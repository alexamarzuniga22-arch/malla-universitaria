<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<title>Medicina y Cirugía</title>

<style>
:root{
  --bg: #f3effa;
  --period-bg: #ebe4f7;

  --materia: #d9c9f2;          /* materias normales */
  --tachada: #f4c6dd;          /* rosa pastel */
  --bloqueada: #c9c3d6;        /* lila grisáceo */

  --texto: #4b3b6e;
}

body{
  background: var(--bg);
  font-family: system-ui, sans-serif;
  margin:0;
  padding:20px;
  color: var(--texto);
}

h1{
  margin-bottom:5px;
}

#contador{
  font-size:14px;
  margin-bottom:20px;
}

.grid{
  display:grid;
  grid-template-columns: repeat(4, 1fr);
  gap:14px;
}

.periodo{
  background: var(--period-bg);
  border-radius:14px;
  padding:10px;
}

.periodo h3{
  margin:0 0 8px 0;
  font-size:14px;
  text-align:center;
}

.materia{
  background: var(--materia);
  border-radius:10px;
  padding:8px;
  margin-bottom:6px;
  font-size:13px;
  cursor:pointer;
  transition: background-color .4s ease, opacity .3s ease;
}

.materia.tachada{
  background: var(--tachada);
}

.materia.bloqueada{
  background: var(--bloqueada);
  cursor:not-allowed;
  opacity:.6;
}
</style>
</head>

<body>

<h1>Medicina y Cirugía</h1>
<div id="contador">Materias aprobadas: <span id="num">0</span></div>

<div class="grid" id="plan"></div>

<script>
/* ====== PLAN CON CÓDIGOS Y PRERREQUISITOS ====== */
const periodos = [
 {p:1, materias:[
  {c:"BIO101", n:"Biología"},
  {c:"QMC101", n:"Química"},
  {c:"MAT101", n:"Matemática"},
 ]},
 {p:2, materias:[
  {c:"BIO102", n:"Biología II", pre:["BIO101"]},
  {c:"QMC102", n:"Química II", pre:["QMC101"]},
 ]},
 {p:3, materias:[
  {c:"ANA201", n:"Anatomía I"},
  {c:"HIS201", n:"Histología"},
 ]},
 {p:4, materias:[
  {c:"ANA202", n:"Anatomía II", pre:["ANA201"]},
  {c:"EMB202", n:"Embriología"},
 ]},
 {p:5, materias:[
  {c:"FIS301", n:"Fisiología I"},
  {c:"BIOQ301", n:"Bioquímica"},
 ]},
 {p:6, materias:[
  {c:"FIS302", n:"Fisiología II", pre:["FIS301"]},
  {c:"MIC302", n:"Microbiología"},
 ]},
 {p:7, materias:[
  {c:"PAT401", n:"Patología I"},
  {c:"FAR401", n:"Farmacología I"},
 ]},
 {p:8, materias:[
  {c:"PAT402", n:"Patología II", pre:["PAT401"]},
  {c:"FAR402", n:"Farmacología II", pre:["FAR401"]},
 ]},
 {p:9, materias:[
  {c:"MED501", n:"Medicina I"},
  {c:"CIR501", n:"Cirugía I"},
 ]},
 {p:10, materias:[
  {c:"MED502", n:"Medicina II", pre:["MED501"]},
  {c:"CIR502", n:"Cirugía II", pre:["CIR501"]},
 ]},
 {p:11, materias:[
  {c:"PED601", n:"Pediatría"},
  {c:"GIN601", n:"Ginecología"},
 ]},
 {p:12, materias:[
  {c:"INT701", n:"Internado Rotatorio"},
 ]},
];

const aprobadas = new Set();

const cont = document.getElementById("plan");
const num = document.getElementById("num");

function actualizarContador(){
  num.textContent = aprobadas.size;
}

function puedeCursar(mat){
  if(!mat.pre) return true;
  return mat.pre.every(p => aprobadas.has(p));
}

function render(){
  cont.innerHTML="";
  periodos.forEach(per=>{
    const d=document.createElement("div");
    d.className="periodo";
    d.innerHTML=`<h3>Periodo ${per.p}</h3>`;
    per.materias.forEach(mat=>{
      const m=document.createElement("div");
      m.className="materia";
      m.textContent=mat.n;

      if(!puedeCursar(mat)){
        m.classList.add("bloqueada");
      }

      m.onclick=()=>{
        if(m.classList.contains("bloqueada")) return;
        if(m.classList.contains("tachada")){
          m.classList.remove("tachada");
          aprobadas.delete(mat.c);
        }else{
          m.classList.add("tachada");
          aprobadas.add(mat.c);
        }
        actualizarContador();
        render();
      };
      d.appendChild(m);
    });
    cont.appendChild(d);
  });
}

render();
</script>

</body>
</html>
